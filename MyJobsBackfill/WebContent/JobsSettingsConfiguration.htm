<!DOCTYPE html>
<html>
<head>

  <title>MyWork - Settings - Configuration
  </title>
<script src="js/html5sql.js"></script>  
<script src="js/MyJobsDB.js"></script>
<script src="js/MyJobsUtils.js"></script>
  <script type='text/javascript' src='js/jquery-1.11.1.min.js'></script>
  <script type='text/javascript' src='js/jquery.mobile-1.4.2.min.js'></script>
  <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.2.min.css">

<script src="js/jquery.mobile.datepicker.js"></script>
<script src="js/jquery-ui/datepicker.js"></script>


<script type='text/javascript' src="tablesorter/js/jquery.tablesorter.js"></script>
<script type='text/javascript' src="tablesorter/js/jquery.tablesorter.widgets.js"></script>

<script src="js/jquery.magnific-popup.min.js"></script>

<link rel="stylesheet" type="text/css" href="tablesorter/css/theme.jui.css">
<link rel="stylesheet" type="text/css" href="tablesorter/css/theme.bootstrap.css">
<link rel="stylesheet" type="text/css" href="tablesorter/docs/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="css/jquery-ui.css">
<link rel="stylesheet" href="css/magnific-popup.css" />  

<script>
html5sql.openDatabase("com.PJO.MyJobs","MyJobs", 5*1024*1024);	
</script>
  <style type='text/css'>
 .block {
    border: 1px solid grey;
    width: 95%;
    
    display: inline-block;
    margin: 1em 1em 1em 1em;
	border-radius: 15px;
    left:50px
}
  .highlight {

     box-shadow: 5px 5px 5px #888888;

  }
  .ui-btn-width {
    width: 200px !important;
}
  </style>

  
</head>
<body>
<script>
GetConfig();
function SaveConfig1()
{

			if (item.paramname=='SYNC_REFERENCE_FREQUENCY'){
				$('#ConfigurationSyncReferenceFrequency').val(item.paramvalue);
				localStorage.setItem('SyncReferenceFrequency',item.paramvalue);
				
		
			}
			if (item.paramname=='SYNC_TRANSACTIONAL_FREQUENCY'){
				$('#ConfigurationSyncTransactionalFrequency').val(item.paramvalue);
				localStorage.setItem('SyncTransactionalFrequency',item.paramvalue);
		
			}
			if (item.paramname=='SYNC_UPLOAD_FREQUENCY'){
				$('#ConfigurationSyncUploadFrequency').val(item.paramvalue);
				localStorage.setItem('SyncUploadFrequency',item.paramvalue);
		
			}
			
			if (item.paramname=='TRACE'){

				$('#ConfigurationTraceState').val(item.paramvalue).slider('refresh');
				localStorage.setItem('Trace',item.paramvalue);
				
		
			}
}
function SaveConfig()
{
		SetConfigParam("TRACE", $('#ConfigurationTraceState').val());
		SetConfigParam("SYNC_REFERENCE_FREQUENCY", $('#ConfigurationSyncReferenceFrequency').val());
		SetConfigParam("SYNC_TRANSACTIONAL_FREQUENCY", $('#ConfigurationSyncTransactionalFrequency').val());
		SetConfigParam("SYNC_UPLOAD_FREQUENCY",$('#ConfigurationSyncUploadFrequency').val());
		SetConfigParam("SERVERNAME", $('#ConfigurationServerName').val());
}		
function GetConfig(){

	html5sql.process("SELECT * from MyWorkConfig ",
	 function(transaction, results, rowsArray){
			
		for (var n = 0; n < rowsArray.length; n++) {
			item = rowsArray[n];
			if (item.paramname=='SERVERNAME'){
				$('#ConfigurationServerName').val(item.paramvalue);
		
				localStorage.setItem('ServerName',item.paramvalue);
			}
			if (item.paramname=='SYNC_REFERENCE_FREQUENCY'){
				$('#ConfigurationSyncReferenceFrequency').val(item.paramvalue);
				localStorage.setItem('SyncReferenceFrequency',item.paramvalue);
				
		
			}
			if (item.paramname=='SYNC_TRANSACTIONAL_FREQUENCY'){
				$('#ConfigurationSyncTransactionalFrequency').val(item.paramvalue);
				localStorage.setItem('SyncTransactionalFrequency',item.paramvalue);
		
			}
			if (item.paramname=='SYNC_UPLOAD_FREQUENCY'){
				$('#ConfigurationSyncUploadFrequency').val(item.paramvalue);
				localStorage.setItem('SyncUploadFrequency',item.paramvalue);
		
			}
			
			if (item.paramname=='TRACE'){

				$('#ConfigurationTraceState').val(item.paramvalue).slider('refresh');
				localStorage.setItem('Trace',item.paramvalue);
				
		
			}				

		}
		
	 },
	 function(error, statement){
		
	 }        
	);

}

</script>




<div align="center" data-role="page" id="JobsSettingsConfiguration"> 

	<div  id="header" data-role="header" data-position="fixed">
			<table width = "100%">
			<TR height="50px">
				<TD width = "20%"  Valign="bottom" align="left"><a  href="javascript:window.location.href='JobsSettings.htm'" class="ui-btn ui-btn-width ui-btn-inline ui-icon-gear ui-corner-all ui-shadow ui-btn-icon-left">
				Settings</a></td>
				
				<TD width = "60%" valign="Top" align= "center"><h3 ><B>MyJobs - Settings - Configuration</B></H3></TD>
			
				<TD width = "20%" Valign="bottom" align="right"><a  href = "#" class="ui-btn ui-btn-width ui-btn-inline ui-corner-all ui-shadow ui-icon-check  ui-btn-icon-left" onclick = "SaveConfig()" >Save</a></TD>
			</TR>
		</table>
	</div> 
	<div  data-role="content">	
		<div  align="center"> 
			<div id="right1" align="center" class="block highlight">
			
				<Table width="90%">
					<TR><TD width = "30%"><label >Server Name:</label></td>
						<TD><input type="text" name="ConfigurationServerName" id="ConfigurationServerName" value=""  /></td></TR>
					<TR><TD><label >Sync Reference Frequency:</label></td>
						<TD><input type="text" name="ConfigurationSyncReferenceFrequency" id="ConfigurationSyncReferenceFrequency" value=""  /></td></TR>
					<TR><TD><label >Sync Transactional Frequency:</label></td>
						<TD><input type="text" name="ConfigurationSyncTransactionalFrequency" id="ConfigurationSyncTransactionalFrequency" value=""  /></td></TR>
					<TR><TD><label >Sync Upload Frequency:</label></td>
						<TD><input type="text" name="ConfigurationSyncUploadFrequency" id="ConfigurationSyncUploadFrequency" value=""  /></td></TR>
					<TR><TD><label>Trace State:</label></td>
						<TD><select name="ConfigurationTraceState" id="ConfigurationTraceState" data-role="slider">
								<option value="OFF">OFF</option>
								<option value="ON">ON</option>
							</select> </td></TR>
			
					
				</table>


			</div>
		</div>
	</div>
 
</div> 

</body>


</html>

